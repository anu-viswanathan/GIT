<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Distributor_Required_Data_For_Submission</fullName>
    <active>false</active>
    <description>Used to validated all required fields are present prior to a Case being submitted</description>
    <errorConditionFormula>AND( 
    TEXT(Origin) = &apos;Distributor&apos;,
    TEXT(Claim_Stage__c) = &apos;Submitted&apos;,
    OR( 
        RecordType.Name = &apos;Commercial Claim&apos;, 
        RecordType.Name = &apos;Residential Claim&apos; 
    ), 
    OR 
    (
		ISBLANK( Distributor__r.Id),
        ISBLANK(Product__c),
        NOT(All_Claim_Photos_Attached__c) ,
        ISBLANK(TEXT(Samples_Collected__c)),
        AND(
            TEXT(Samples_Collected__c) = &apos;Yes&apos;,
            ISBLANK(Samples_Ship_Date__c)
        )
    ) 
)</errorConditionFormula>
    <errorMessage>Please ensure the following criteria is all populated: Distributor, Product,, All Claim Photos Attached, Samples Collected</errorMessage>
</ValidationRule>
